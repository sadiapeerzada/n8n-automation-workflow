{
  "name": "QA AI Agent",
  "nodes": [
    {
      "parameters": {
        "availableInChat": true,
        "agentName": "QA Chatbot",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        -112,
        -16
      ],
      "id": "574fc86b-a7c1-423e-a9a8-1555df017fc0",
      "name": "When chat message received",
      "webhookId": "7cd7c24b-f4cb-4b26-9140-9102035f6f7e"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful Q&A assistant that answers questions based on feedback data. Use tools to search for relevant information by querying the 'question' and 'tags' columns. When a user asks a question, search the QA database to find matching questions or relevant tags, then provide the matching answer then provide the corresponding answer. If you find multiple relevant entries, synthesize the information. If no relevant information is found, politely inform the user that you don't have that information in the QA database."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        112,
        -16
      ],
      "id": "6531ca7a-b3bb-42eb-9cf1-47ee091fc04f",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-5-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        -32,
        192
      ],
      "id": "2952c63d-327b-49cd-955c-c47f0e93da35",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "sAakeD0CNqRNAKnI",
          "name": "n8n free OpenAI API credits"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        128,
        192
      ],
      "id": "86efbe2c-ca2d-4f24-8b1d-2486bf2ab610",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Use this tool to search the Feedback data table for relevant entries. Provide search query that will be matched against the  'question' column to find relevant feedback. The tool returns matching entries with their answers. Always provide a specific research term based on what the user is asking about.",
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "Gd5uzgBtuH2fq4PK",
          "mode": "list",
          "cachedResultName": "q&a",
          "cachedResultUrl": "/projects/4BD0BCepi3KDpQBD/datatables/Gd5uzgBtuH2fq4PK"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "Question",
              "condition": "like",
              "keyValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('conditions0_Value', `The search term or question to look for in the feedback database. Filters by questions containing your search term so you use single words or short fragments`, 'string') }}"
            },
            {
              "keyName": "Tags",
              "condition": "ilike",
              "keyValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('conditions1_Value', `key terms for this question:answer pair that was classified by AI. Use one search term per tool invocation.`, 'string') }}"
            }
          ]
        },
        "returnAll": true
      },
      "type": "n8n-nodes-base.dataTableTool",
      "typeVersion": 1.1,
      "position": [
        272,
        192
      ],
      "id": "198d2ca0-c920-4208-a614-6f60c056a8a8",
      "name": "fetch-qa-from-db"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "fetch-qa-from-db": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "c3c44ed6-ae99-4325-a579-4d8e24f7fa3a",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0df8e062357175d0497c35fe88612b51824783adb971d83f32394010c05d6ff5"
  },
  "id": "nZ0OzuXNcqaLCHbg",
  "tags": []
}